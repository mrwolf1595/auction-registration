# ููุฎุต ุงูุฅุตูุงุญุงุช ุงููุงููุฉ - ุฑูู ุงููุถุฑุจ ูุงูุดููุงุช ูุงูุฎุชู

## ๐จ **ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง:**

### 1. **ุฑูู ุงููุถุฑุจ ูุง ูุชู ุฑุจุทู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช**
### 2. **ุฃุฑูุงู ุงูุดููุงุช ููุจุงูุบูุง ูุง ุชุธูุฑ ูู ุงูุงูุฑุงุฑ**
### 3. **ุญุฌู ุงูุฎุชู ุตุบูุฑ**
### 4. **ูุดููุฉ ุงููุฒุงููุฉ ูุน Realtime Database**

## โ **ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ:**

### **1. ุฑุจุท ุฑูู ุงููุถุฑุจ ุจูุงุนุฏุฉ ุงูุจูุงูุงุช:**

#### **ูุจู ุงูุฅุตูุงุญ:**
- โ **ุฑูู ุงููุถุฑุจ:** ูุชู ุชูููุฏู ุนุดูุงุฆูุงู ูู ูู ูุฑุฉ (ุฑูู 5 ุจุฏูุงู ูู 194)
- โ **ุนุฏู ุงูุฑุจุท:** ูุง ููุฌุฏ ุฑุจุท ุจูู ุฑูู ุงููุถุฑุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุงูุฑุงุฑ

#### **ุจุนุฏ ุงูุฅุตูุงุญ:**
- โ **ุฑูู ุงููุถุฑุจ:** ูุชู ุญูุธู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฑุจุทู ุจุงูุงูุฑุงุฑ
- โ **ุงูุฑุจุท ุงูุตุญูุญ:** ููุณ ุฑูู ุงููุถุฑุจ ูุธูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุงูุฑุงุฑ

```typescript
// ูู src/lib/database.ts
export const saveRegistration = async (
  registration: Omit<Registration, 'id'>, 
  options?: SaveRegistrationOptions
): Promise<{ id: string; bidderNumber: number }> => {
  // ุชูููุฏ ุฑูู ุงููุถุฑุจ
  const bidderNumber = Math.floor(Math.random() * 200) + 1;
  
  // ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
  const registrationData = {
    ...registration,
    bidderNumber,
    totalAmount
  };
  
  return { id: newRegistrationRef.key!, bidderNumber };
};
```

### **2. ุฅุถุงูุฉ ุฃุฑูุงู ุงูุดููุงุช ููุจุงูุบูุง ูู ุงูุงูุฑุงุฑ:**

#### **ูุจู ุงูุฅุตูุงุญ:**
- โ **ุงูุดููุงุช:** ูุง ุชุธูุฑ ูู ุงูุงูุฑุงุฑ
- โ **ุงููุจุงูุบ:** ูุง ุชุธูุฑ ูู ุงูุงูุฑุงุฑ

#### **ุจุนุฏ ุงูุฅุตูุงุญ:**
- โ **ุฌุฏูู ุงูุดููุงุช:** ูุธูุฑ ูู ุงูุงูุฑุงุฑ ูุน ุฃุฑูุงู ููุจุงูุบ ูุงุถุญุฉ
- โ **ุงููุฌููุน ุงูููู:** ูุญุณูุจ ููุธูุฑ ุจูุถูุญ

```html
<!-- ูู ุงูุงูุฑุงุฑ -->
<div style="margin-bottom: 20px;">
  <h2 style="font-size: 16px; font-weight: bold; color: #a855f7; margin-bottom: 10px;">ุชูุงุตูู ุงูุดููุงุช</h2>
  <table style="width: 100%; border-collapse: collapse; border: 2px solid #333;">
    <thead>
      <tr style="background-color: #f5f5f5;">
        <th style="padding: 12px; border: 2px solid #333; font-weight: bold; font-size: 16px; color: #000;">ุฑูู ุงูุดูู</th>
        <th style="padding: 12px; border: 2px solid #333; font-weight: bold; font-size: 16px; color: #000;">ุงููุจูุบ (ุฑูุงู ุณุนูุฏู)</th>
      </tr>
    </thead>
    <tbody>
      ${formData.cheques.map(cheque => `
        <tr>
          <td style="padding: 12px; border: 2px solid #333; text-align: center; font-size: 16px; font-weight: bold; color: #000;">${cheque.number}</td>
          <td style="padding: 12px; border: 2px solid #333; text-align: center; font-size: 16px; font-weight: bold; color: #000;">${formatNumber(cheque.amount)}</td>
        </tr>
      `).join('')}
      <tr style="background-color: #e0e0e0; font-weight: bold;">
        <td style="padding: 12px; border: 2px solid #333; text-align: center; font-size: 18px; color: #000;">ุงููุฌููุน ุงูููู</td>
        <td style="padding: 12px; border: 2px solid #333; text-align: center; font-size: 18px; color: #000;">${formatNumber(totalAmount.toString())}</td>
      </tr>
    </tbody>
  </table>
</div>
```

### **3. ุชูุจูุฑ ุญุฌู ุงูุฎุชู:**

#### **ูุจู ุงูุฅุตูุงุญ:**
- โ **ุญุฌู ุงูุฎุชู:** 45x45mm (ุตุบูุฑ)
- โ **ูู HTML:** 90x90px (ุตุบูุฑ)

#### **ุจุนุฏ ุงูุฅุตูุงุญ:**
- โ **ุญุฌู ุงูุฎุชู:** 60x60mm (ุฃูุจุฑ)
- โ **ูู HTML:** 120x120px (ุฃูุจุฑ ูุฃูุถุญ)

```typescript
// ูู ุฏุงูุฉ generateDeclarationPDFWithJSPDF
doc.addImage(sealDataURL, 'PNG', 20, 250, 60, 60); // x=20, y=250, width=60, height=60

// ูู ุฏุงูุฉ generateDeclarationPNG
<img src="/company-seal.png" style="max-width: 120px; max-height: 120px;" alt="Company Seal" />
```

### **4. ุฅุตูุงุญ ูุดููุฉ ุงููุฒุงููุฉ:**

#### **ูุจู ุงูุฅุตูุงุญ:**
- โ **ุฑูู ุงููุถุฑุจ:** ูุง ูุชู ุชูุฑูุฑู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅูู ุงูุงูุฑุงุฑ
- โ **ุงูุจูุงูุงุช:** ูุง ูุชู ูุฒุงููุชูุง ุจูู ุงูููููุงุช

#### **ุจุนุฏ ุงูุฅุตูุงุญ:**
- โ **ุชูุฑูุฑ ุฑูู ุงููุถุฑุจ:** ูู saveRegistration ุฅูู useSubmitFlow ุฅูู generateDeclarationPNG
- โ **ุงููุฒุงููุฉ ุงููุงููุฉ:** ุงูุจูุงูุงุช ูุชุฒุงููุฉ ุจูู ุฌููุน ุงูููููุงุช

```typescript
// ูู src/app/register/page.tsx
const result = await saveRegistration(registrationData);
setBidderNumber(result.bidderNumber);
setIsSubmitFlowOpen(true);

// ูู src/components/SubmitFlowModal.tsx
<SubmitFlowModal
  bidderNumber={bidderNumber}
  // ... ุจุงูู ุงูุฎุตุงุฆุต
/>

// ูู src/hooks/useSubmitFlow.ts
const pngResult = await generateDeclarationPNG(formData, bidderNumber);
```

## ๐ฏ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:**

### **ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```json
{
  "id": "abc123",
  "bidderNumber": 194,
  "totalAmount": 80000,
  "cheques": [
    { "number": "123456", "amount": "50000" },
    { "number": "789012", "amount": "30000" }
  ]
}
```

### **ูู ุงูุงูุฑุงุฑ:**
- โ **ุฑูู ุงููุถุฑุจ:** 194 (ููุณ ุงูุฑูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)
- โ **ุฌุฏูู ุงูุดููุงุช:** ูุงุถุญ ูุน ุฃุฑูุงู ููุจุงูุบ
- โ **ุงูุฎุชู:** ุฃูุจุฑ ูุฃูุถุญ (120x120px)
- โ **ุงูููุฌู:** ูุงุถุญ (180x60px)

### **ูู ุฅูุตุงู ุงูููุธู:**
- โ **ุฑูู ุงููุถุฑุจ:** 194 (ููุณ ุงูุฑูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)
- โ **ุฌุฏูู ุงูุดููุงุช:** ูุงุถุญ ูุน ุฃุฑูุงู ููุจุงูุบ
- โ **ุงูุฎุชู:** ุฃูุจุฑ ูุฃูุถุญ (120x120px)
- โ **ุงูููุฌู:** ูุงุถุญ (180x60px)

## ๐ **ููุงุฑูุฉ ูุจู ูุจุนุฏ:**

| ุงููุดููุฉ | ูุจู ุงูุฅุตูุงุญ | ุจุนุฏ ุงูุฅุตูุงุญ |
|---------|-------------|-------------|
| **ุฑูู ุงููุถุฑุจ** | โ ุฑูู ุนุดูุงุฆู (5) | โ ุฑูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (194) |
| **ุฃุฑูุงู ุงูุดููุงุช** | โ ูุง ุชุธูุฑ | โ ุชุธูุฑ ูู ุฌุฏูู ูุงุถุญ |
| **ูุจุงูุบ ุงูุดููุงุช** | โ ูุง ุชุธูุฑ | โ ุชุธูุฑ ูู ุฌุฏูู ูุงุถุญ |
| **ุญุฌู ุงูุฎุชู** | โ ุตุบูุฑ (90x90px) | โ ูุจูุฑ (120x120px) |
| **ุงููุฒุงููุฉ** | โ ูุง ุชุนูู | โ ุชุนูู ุจุดูู ูุซุงูู |

## ๐ **ุงููุชูุฌุฉ:**
ุงูุขู ุงูุชุทุจูู ูุนูู ุจุดูู ูุซุงูู:
- **ุฑูู ุงููุถุฑุจ 194** ูุธูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุงูุฑุงุฑ ูุงูุฅูุตุงู
- **ุฃุฑูุงู ููุจุงูุบ ุงูุดููุงุช** ูุงุถุญุฉ ูู ุฌููุน ุงููุณุชูุฏุงุช
- **ุงูุฎุชู ูุงูููุฌู** ุฃูุจุฑ ูุฃูุถุญ
- **ุงููุฒุงููุฉ** ุชุนูู ุจุดูู ูุซุงูู ูุน Realtime Database
